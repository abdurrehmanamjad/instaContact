/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
!function(t){function e(t,e,r){var s=t[0],o=/er/.test(r)?_indeterminate:/bl/.test(r)?f:d,a=r==_update?{checked:s[d],disabled:s[f],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[o];if(/^(ch|di|in)/.test(r)&&!a)n(t,o);else if(/^(un|en|de)/.test(r)&&a)i(t,o);else if(r==_update)for(var l in a)a[l]?n(t,l,!0):i(t,l,!0);else e&&"toggle"!=r||(e||t[_callback]("ifClicked"),a?s[_type]!==c&&i(t,o):n(t,o))}function n(e,n,r){var p=e[0],m=e.parent(),g=n==d,v=n==_indeterminate,y=n==f,w=v?_determinate:g?h:"enabled",_=s(e,w+o(p[_type])),b=s(e,n+o(p[_type]));if(!0!==p[n]){if(!r&&n==d&&p[_type]==c&&p.name){var D=e.closest("form"),S='input[name="'+p.name+'"]',S=D.length?D.find(S):t(S);S.each(function(){this!==p&&t(this).data(l)&&i(t(this),n)})}v?(p[n]=!0,p[d]&&i(e,d,"force")):(r||(p[n]=!0),g&&p[_indeterminate]&&i(e,_indeterminate,!1)),a(e,g,n,r)}p[f]&&s(e,_cursor,!0)&&m.find("."+u).css(_cursor,"default"),m[_add](b||s(e,n)||""),m.attr("role")&&!v&&m.attr("aria-"+(y?f:d),"true"),m[_remove](_||s(e,w)||"")}function i(t,e,n){var i=t[0],r=t.parent(),l=e==d,c=e==_indeterminate,p=e==f,m=c?_determinate:l?h:"enabled",g=s(t,m+o(i[_type])),v=s(t,e+o(i[_type]));!1!==i[e]&&((c||!n||"force"==n)&&(i[e]=!1),a(t,l,m,n)),!i[f]&&s(t,_cursor,!0)&&r.find("."+u).css(_cursor,"pointer"),r[_remove](v||s(t,e)||""),r.attr("role")&&!c&&r.attr("aria-"+(p?f:d),"false"),r[_add](g||s(t,m)||"")}function r(e,n){e.data(l)&&(e.parent().html(e.attr("style",e.data(l).s||"")),n&&e[_callback](n),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function s(t,e,n){return t.data(l)?t.data(l).o[e+(n?"":"Class")]:void 0}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t,e,n,i){i||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+o(n)))}var l="iCheck",u=l+"-helper",c="radio",d="checked",h="un"+d,f="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[l]=function(s,o){var a='input[type="checkbox"], input[type="'+c+'"]',h=t(),p=function(e){e.each(function(){var e=t(this);h=e.is(a)?h.add(e):h.add(e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),p(this),h.each(function(){var n=t(this);"destroy"==s?r(n,"ifDestroyed"):e(n,!0,s),t.isFunction(o)&&o()});if("object"!=typeof s&&s)return this;var m=t.extend({checkedClass:d,disabledClass:f,indeterminateClass:_indeterminate,labelHover:!0},s),g=m.handle,v=m.hoverClass||"hover",y=m.focusClass||"focus",w=m.activeClass||"active",_=!!m.labelHover,b=m.labelHoverClass||"hover",D=0|(""+m.increaseArea).replace("%","");return("checkbox"==g||g==c)&&(a='input[type="'+g+'"]'),-50>D&&(D=-50),p(this),h.each(function(){var s=t(this);r(s);var o=this,a=o.id,h=-D+"%",p=100+2*D+"%",p={position:"absolute",top:h,left:h,display:"block",width:p,height:p,margin:0,padding:0,background:"#fff",border:0,opacity:0},h=_mobile?{position:"absolute",visibility:"hidden"}:D?p:{position:"absolute",opacity:0},g="checkbox"==o[_type]?m.checkboxClass||"icheckbox":m.radioClass||"i"+c,S=t(_label+'[for="'+a+'"]').add(s.closest(_label)),T=!!m.aria,k=l+"-"+Math.random().toString(36).substr(2,6),E='<div class="'+g+'" '+(T?'role="'+o[_type]+'" ':"");T&&S.each(function(){E+='aria-labelledby="',this.id?E+=this.id:(this.id=k,E+=k),E+='"'}),E=s.wrap(E+"/>")[_callback]("ifCreated").parent().append(m.insert),p=t('<ins class="'+u+'"/>').css(p).appendTo(E),s.data(l,{o:m,s:s.attr("style")}).css(h),m.inheritClass&&E[_add](o.className||""),m.inheritID&&a&&E.attr("id",l+"-"+a),"static"==E.css("position")&&E.css("position","relative"),e(s,!0,_update),S.length&&S.on(_click+".i mouseover.i mouseout.i "+_touch,function(n){var i=n[_type],r=t(this);if(!o[f]){if(i==_click){if(t(n.target).is("a"))return;e(s,!1,!0)}else _&&(/ut|nd/.test(i)?(E[_remove](v),r[_remove](b)):(E[_add](v),r[_add](b)));if(!_mobile)return!1;n.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e==_click?!1:"keydown"==e&&32==t?(o[_type]==c&&o[d]||(o[d]?i(s,d):n(s,d)),!1):void("keyup"==e&&o[_type]==c?!o[d]&&n(s,d):/us|ur/.test(e)&&E["blur"==e?_remove:_add](y))}),p.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var n=t[_type],i=/wn|up/.test(n)?w:v;if(!o[f]){if(n==_click?e(s,!1,!0):(/wn|er|in/.test(n)?E[_add](i):E[_remove](i+" "+w),S.length&&_&&i==v&&S[/ut|nd/.test(n)?_remove:_add](b)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),
//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(t){function e(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function n(t,e){return kt.call(t,e)}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function r(t){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var n=!0;return h(function(){return n&&(r(t),n=!1),e.apply(this,arguments)},e)}function o(t,e){ge[t]||(r(e),ge[t]=!0)}function a(t,e){return function(n){return m(t.call(this,n),e)}}function l(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function u(){}function c(t,e){e!==!1&&Y(t),f(this,t),this._d=new Date(+t._d)}function d(t){var e=T(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=wt.localeData(),this._bubble()}function h(t,e){for(var i in e)n(e,i)&&(t[i]=e[i]);return n(e,"toString")&&(t.toString=e.toString),n(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e){var n,i,r;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ot.length>0)for(n in Ot)i=Ot[n],r=e[i],"undefined"!=typeof r&&(t[i]=r);return t}function p(t){return 0>t?Math.ceil(t):Math.floor(t)}function m(t,e,n){for(var i=""+Math.abs(t),r=t>=0;i.length<e;)i="0"+i;return(r?n?"+":"":"-")+i}function g(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function v(t,e){var n;return e=z(e,t),t.isBefore(e)?n=g(t,e):(n=g(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(t,e){return function(n,i){var r,s;return null===i||isNaN(+i)||(o(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=wt.duration(n,i),w(this,r,t),this}}function w(t,e,n,i){var r=e._milliseconds,s=e._days,o=e._months;i=null==i?!0:i,r&&t._d.setTime(+t._d+r*n),s&&ft(t,"Date",ht(t,"Date")+s*n),o&&dt(t,ht(t,"Month")+o*n),i&&wt.updateOffset(t,s||o)}function _(t){return"[object Array]"===Object.prototype.toString.call(t)}function b(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function D(t,e,n){var i,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(i=0;r>i;i++)(n&&t[i]!==e[i]||!n&&E(t[i])!==E(e[i]))&&o++;return o+s}function S(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||ce[e]||e}return t}function T(t){var e,i,r={};for(i in t)n(t,i)&&(e=S(i),e&&(r[e]=t[i]));return r}function k(e){var n,i;if(0===e.indexOf("week"))n=7,i="day";else{if(0!==e.indexOf("month"))return;n=12,i="month"}wt[e]=function(r,s){var o,a,l=wt._locale[e],u=[];if("number"==typeof r&&(s=r,r=t),a=function(t){var e=wt().utc().set(i,t);return l.call(wt._locale,e,r||"")},null!=s)return a(s);for(o=0;n>o;o++)u.push(a(o));return u}}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function C(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function M(t,e,n){return at(wt([t,11,31+e-n]),e,n).week}function x(t){return H(t)?366:365}function H(t){return t%4===0&&t%100!==0||t%400===0}function Y(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Ct]<0||t._a[Ct]>11?Ct:t._a[Mt]<1||t._a[Mt]>C(t._a[Et],t._a[Ct])?Mt:t._a[xt]<0||t._a[xt]>23?xt:t._a[Ht]<0||t._a[Ht]>59?Ht:t._a[Yt]<0||t._a[Yt]>59?Yt:t._a[Ft]<0||t._a[Ft]>999?Ft:-1,t._pf._overflowDayOfYear&&(Et>e||e>Mt)&&(e=Mt),t._pf.overflow=e)}function F(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function R(t){return t?t.toLowerCase().replace("_","-"):t}function O(t){for(var e,n,i,r,s=0;s<t.length;){for(r=R(t[s]).split("-"),e=r.length,n=R(t[s+1]),n=n?n.split("-"):null;e>0;){if(i=G(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&D(r,n,!0)>=e-1)break;e--}s++}return null}function G(t){var e=null;if(!Rt[t]&&Gt)try{e=wt.locale(),require("./locale/"+t),wt.locale(e)}catch(n){}return Rt[t]}function z(t,e){return e._isUTC?wt(t).zone(e._offset||0):wt(t).local()}function P(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function L(t){var e,n,i=t.match(Wt);for(e=0,n=i.length;n>e;e++)i[e]=me[i[e]]?me[i[e]]:P(i[e]);return function(r){var s="";for(e=0;n>e;e++)s+=i[e]instanceof Function?i[e].call(r,t):i[e];return s}}function W(t,e){return t.isValid()?(e=A(e,t.localeData()),de[e]||(de[e]=L(e)),de[e](t)):t.localeData().invalidDate()}function A(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(At.lastIndex=0;i>=0&&At.test(t);)t=t.replace(At,n),At.lastIndex=0,i-=1;return t}function N(t,e){var n,i=e._strict;switch(t){case"Q":return Qt;case"DDDD":return Kt;case"YYYY":case"GGGG":case"gggg":return i?te:Vt;case"Y":case"G":case"g":return ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?ee:Zt;case"S":if(i)return Qt;case"SS":if(i)return Jt;case"SSS":if(i)return Kt;case"DDD":return It;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ut;case"a":case"A":return e._locale._meridiemParse;case"X":return Xt;case"Z":case"ZZ":return jt;case"T":return $t;case"SSSS":return Bt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?Jt:Nt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Nt;case"Do":return qt;default:return n=new RegExp(q(X(t.replace("\\","")),"i"))}}function I(t){t=t||"";var e=t.match(jt)||[],n=e[e.length-1]||[],i=(n+"").match(ae)||["-",0,0],r=+(60*i[1])+E(i[2]);return"+"===i[0]?-r:r}function V(t,e,n){var i,r=n._a;switch(t){case"Q":null!=e&&(r[Ct]=3*(E(e)-1));break;case"M":case"MM":null!=e&&(r[Ct]=E(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e),null!=i?r[Ct]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(r[Mt]=E(e));break;case"Do":null!=e&&(r[Mt]=E(parseInt(e,10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=E(e));break;case"YY":r[Et]=wt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":r[Et]=E(e);break;case"a":case"A":n._isPm=n._locale.isPM(e);break;case"H":case"HH":case"h":case"hh":r[xt]=E(e);break;case"m":case"mm":r[Ht]=E(e);break;case"s":case"ss":r[Yt]=E(e);break;case"S":case"SS":case"SSS":case"SSSS":r[Ft]=E(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=I(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=E(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=wt.parseTwoDigitYear(e)}}function Z(t){var n,i,r,s,o,a,l;n=t._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,a=4,i=e(n.GG,t._a[Et],at(wt(),1,4).year),r=e(n.W,1),s=e(n.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,i=e(n.gg,t._a[Et],at(wt(),o,a).year),r=e(n.w,1),null!=n.d?(s=n.d,o>s&&++r):s=null!=n.e?n.e+o:o),l=lt(i,r,s,a,o),t._a[Et]=l.year,t._dayOfYear=l.dayOfYear}function B(t){var n,i,r,s,o=[];if(!t._d){for(r=j(t),t._w&&null==t._a[Mt]&&null==t._a[Ct]&&Z(t),t._dayOfYear&&(s=e(t._a[Et],r[Et]),t._dayOfYear>x(s)&&(t._pf._overflowDayOfYear=!0),i=it(s,0,t._dayOfYear),t._a[Ct]=i.getUTCMonth(),t._a[Mt]=i.getUTCDate()),n=0;3>n&&null==t._a[n];++n)t._a[n]=o[n]=r[n];for(;7>n;n++)t._a[n]=o[n]=null==t._a[n]?2===n?1:0:t._a[n];t._d=(t._useUTC?it:nt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()+t._tzm)}}function U(t){var e;t._d||(e=T(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],B(t))}function j(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function $(t){if(t._f===wt.ISO_8601)return void J(t);t._a=[],t._pf.empty=!0;var e,n,i,r,s,o=""+t._i,a=o.length,l=0;for(i=A(t._f,t._locale).match(Wt)||[],e=0;e<i.length;e++)r=i[e],n=(o.match(N(r,t))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),l+=n.length),me[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),V(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=a-l,o.length>0&&t._pf.unusedInput.push(o),t._isPm&&t._a[xt]<12&&(t._a[xt]+=12),t._isPm===!1&&12===t._a[xt]&&(t._a[xt]=0),B(t),Y(t)}function X(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t){var e,n,r,s,o;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=i(),e._f=t._f[s],$(e),F(e)&&(o+=e._pf.charsLeftOver,o+=10*e._pf.unusedTokens.length,e._pf.score=o,(null==r||r>o)&&(r=o,n=e));h(t,n||e)}function J(t){var e,n,i=t._i,r=ie.exec(i);if(r){for(t._pf.iso=!0,e=0,n=se.length;n>e;e++)if(se[e][1].exec(i)){t._f=se[e][0]+(r[6]||" ");break}for(e=0,n=oe.length;n>e;e++)if(oe[e][1].exec(i)){t._f+=oe[e][0];break}i.match(jt)&&(t._f+="Z"),$(t)}else t._isValid=!1}function K(t){J(t),t._isValid===!1&&(delete t._isValid,wt.createFromInputFallback(t))}function tt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function et(e){var n,i=e._i;i===t?e._d=new Date:b(i)?e._d=new Date(+i):null!==(n=zt.exec(i))?e._d=new Date(+n[1]):"string"==typeof i?K(e):_(i)?(e._a=tt(i.slice(0),function(t){return parseInt(t,10)}),B(e)):"object"==typeof i?U(e):"number"==typeof i?e._d=new Date(i):wt.createFromInputFallback(e)}function nt(t,e,n,i,r,s,o){var a=new Date(t,e,n,i,r,s,o);return 1970>t&&a.setFullYear(t),a}function it(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function st(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function ot(t,e,n){var i=wt.duration(t).abs(),r=Tt(i.as("s")),s=Tt(i.as("m")),o=Tt(i.as("h")),a=Tt(i.as("d")),l=Tt(i.as("M")),u=Tt(i.as("y")),c=r<he.s&&["s",r]||1===s&&["m"]||s<he.m&&["mm",s]||1===o&&["h"]||o<he.h&&["hh",o]||1===a&&["d"]||a<he.d&&["dd",a]||1===l&&["M"]||l<he.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,st.apply({},c)}function at(t,e,n){var i,r=n-e,s=n-t.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=wt(t).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function lt(t,e,n,i,r){var s,o,a=it(t,0,1).getUTCDay();return a=0===a?7:a,n=null!=n?n:r,s=r-a+(a>i?7:0)-(r>a?7:0),o=7*(e-1)+(n-r)+s+1,{year:o>0?t:t-1,dayOfYear:o>0?o:x(t-1)+o}}function ut(e){var n=e._i,i=e._f;return e._locale=e._locale||wt.localeData(e._l),null===n||i===t&&""===n?wt.invalid({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),wt.isMoment(n)?new c(n,!0):(i?_(i)?Q(e):$(e):et(e),new c(e)))}function ct(t,e){var n,i;if(1===e.length&&_(e[0])&&(e=e[0]),!e.length)return wt();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function dt(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),C(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function ht(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function ft(t,e,n){return"Month"===e?dt(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function pt(t,e){return function(n){return null!=n?(ft(this,t,n),wt.updateOffset(this,e),this):ht(this,t)}}function mt(t){return 400*t/146097}function gt(t){return 146097*t/400}function vt(t){wt.duration.fn[t]=function(){return this._data[t]}}function yt(t){"undefined"==typeof ender&&(_t=St.moment,St.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):wt)}for(var wt,_t,bt,Dt="2.8.3",St="undefined"!=typeof global?global:this,Tt=Math.round,kt=Object.prototype.hasOwnProperty,Et=0,Ct=1,Mt=2,xt=3,Ht=4,Yt=5,Ft=6,Rt={},Ot=[],Gt="undefined"!=typeof module&&module.exports,zt=/^\/?Date\((\-?\d+)/i,Pt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Lt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Wt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,At=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Nt=/\d\d?/,It=/\d{1,3}/,Vt=/\d{1,4}/,Zt=/[+\-]?\d{1,6}/,Bt=/\d+/,Ut=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,jt=/Z|[\+\-]\d\d:?\d\d/gi,$t=/T/i,Xt=/[\+\-]?\d+(\.\d{1,3})?/,qt=/\d{1,2}/,Qt=/\d/,Jt=/\d\d/,Kt=/\d{3}/,te=/\d{4}/,ee=/[+-]?\d{6}/,ne=/[+-]?\d+/,ie=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,re="YYYY-MM-DDTHH:mm:ssZ",se=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],oe=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],ae=/([\+\-]|\d\d)/gi,le=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ce={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},de={},he={s:45,m:45,h:22,d:26,M:11},fe="DDD w W M D d".split(" "),pe="M D H h m s w W".split(" "),me={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return m(this.year()%100,2)},YYYY:function(){return m(this.year(),4)},YYYYY:function(){return m(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+m(Math.abs(t),6)},gg:function(){return m(this.weekYear()%100,2)},gggg:function(){return m(this.weekYear(),4)},ggggg:function(){return m(this.weekYear(),5)},GG:function(){return m(this.isoWeekYear()%100,2)},GGGG:function(){return m(this.isoWeekYear(),4)},GGGGG:function(){return m(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return E(this.milliseconds()/100)},SS:function(){return m(E(this.milliseconds()/10),2)},SSS:function(){return m(this.milliseconds(),3)},SSSS:function(){return m(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+m(E(t/60),2)+":"+m(E(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+m(E(t/60),2)+m(E(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ge={},ve=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];fe.length;)bt=fe.pop(),me[bt+"o"]=l(me[bt],bt);for(;pe.length;)bt=pe.pop(),me[bt+bt]=a(me[bt],2);me.DDDD=a(me.DDD,3),h(u.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,i;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=wt.utc([2e3,e]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(i.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=wt([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(t,e,n,i):r.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return at(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(e,n,r,s){var o;return"boolean"==typeof r&&(s=r,r=t),o={},o._isAMomentObject=!0,o._i=e,o._f=n,o._l=r,o._strict=s,o._isUTC=!1,o._pf=i(),ut(o)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i)}),wt.min=function(){var t=[].slice.call(arguments,0);return ct("isBefore",t)},wt.max=function(){var t=[].slice.call(arguments,0);return ct("isAfter",t)},wt.utc=function(e,n,r,s){var o;return"boolean"==typeof r&&(s=r,r=t),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=r,o._i=e,o._f=n,o._strict=s,o._pf=i(),ut(o).utc()},wt.unix=function(t){return wt(1e3*t)},wt.duration=function(t,e){var i,r,s,o,a=t,l=null;return wt.isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(l=Pt.exec(t))?(i="-"===l[1]?-1:1,a={y:0,d:E(l[Mt])*i,h:E(l[xt])*i,m:E(l[Ht])*i,s:E(l[Yt])*i,ms:E(l[Ft])*i}):(l=Lt.exec(t))?(i="-"===l[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},a={y:s(l[2]),M:s(l[3]),d:s(l[4]),h:s(l[5]),m:s(l[6]),s:s(l[7]),w:s(l[8])}):"object"==typeof a&&("from"in a||"to"in a)&&(o=v(wt(a.from),wt(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),r=new d(a),wt.isDuration(t)&&n(t,"_locale")&&(r._locale=t._locale),r},wt.version=Dt,wt.defaultFormat=re,wt.ISO_8601=function(){},wt.momentProperties=Ot,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(e,n){return he[e]===t?!1:n===t?he[e]:(he[e]=n,!0)},wt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return wt.locale(t,e)}),wt.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?wt.defineLocale(t,e):wt.localeData(t),n&&(wt.duration._locale=wt._locale=n)),wt._locale._abbr},wt.defineLocale=function(t,e){return null!==e?(e.abbr=t,Rt[t]||(Rt[t]=new u),Rt[t].set(e),wt.locale(t),Rt[t]):(delete Rt[t],null)},wt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return wt.localeData(t)}),wt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wt._locale;if(!_(t)){if(e=G(t))return e;t=[t]}return O(t)},wt.isMoment=function(t){return t instanceof c||null!=t&&n(t,"_isAMomentObject")},wt.isDuration=function(t){return t instanceof d};for(bt=ve.length-1;bt>=0;--bt)k(ve[bt]);wt.normalizeUnits=function(t){return S(t)},wt.invalid=function(t){var e=wt.utc(NaN);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(t){return E(t)+(E(t)>68?1900:2e3)},h(wt.fn=c.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=wt(this).utc();return 0<t.year()&&t.year()<=9999?W(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):W(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return F(this)},isDSTShifted:function(){return this._a?this.isValid()&&D(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.zone(0,t)},local:function(t){return this._isUTC&&(this.zone(0,t),this._isUTC=!1,t&&this.add(this._dateTzOffset(),"m")),this},format:function(t){var e=W(this,t||wt.defaultFormat);return this.localeData().postformat(e)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(t,e,n){var i,r,s,o=z(t,this),a=6e4*(this.zone()-o.zone());return e=S(e),"year"===e||"month"===e?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),s=this-wt(this).startOf("month")-(o-wt(o).startOf("month")),s-=6e4*(this.zone()-wt(this).startOf("month").zone()-(o.zone()-wt(o).startOf("month").zone())),r+=s/i,"year"===e&&(r/=12)):(i=this-o,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-a)/864e5:"week"===e?(i-a)/6048e5:i),n?r:p(r)},from:function(t,e){return wt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(wt(),t)},calendar:function(t){var e=t||wt(),n=z(e,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this))},isLeapYear:function(){return H(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=rt(t,this.localeData()),this.add(t-e,"d")):e},month:pt("Month",!0),startOf:function(t){switch(t=S(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=S(t),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this>+t):+this.clone().startOf(e)>+wt(t).startOf(e)},isBefore:function(t,e){return e=S("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+t>+this):+this.clone().startOf(e)<+wt(t).startOf(e)},isSame:function(t,e){return e=S(e||"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this===+t):+this.clone().startOf(e)===+z(t,this).startOf(e)},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),t>this?this:t}),zone:function(t,e){var n,i=this._offset||0;return null==t?this._isUTC?i:this._dateTzOffset():("string"==typeof t&&(t=I(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateTzOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.subtract(n,"m"),i!==t&&(!e||this._changeInProgress?w(this,wt.duration(i-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?wt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return C(this.year(),this.month())},dayOfYear:function(t){var e=Tt((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return M(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return M(this.year(),t.dow,t.doy)},get:function(t){return t=S(t),this[t]()},set:function(t,e){return t=S(t),"function"==typeof this[t]&&this[t](e),this},locale:function(e){var n;return e===t?this._locale._abbr:(n=wt.localeData(e),null!=n&&(this._locale=n),this)},lang:s("moment().lang() is deprecated. Use moment().localeData() instead.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=pt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=pt("Seconds",!1),wt.fn.minute=wt.fn.minutes=pt("Minutes",!1),wt.fn.hour=wt.fn.hours=pt("Hours",!0),wt.fn.date=pt("Date",!0),wt.fn.dates=s("dates accessor is deprecated. Use date instead.",pt("Date",!0)),wt.fn.year=pt("FullYear",!0),wt.fn.years=s("years accessor is deprecated. Use year instead.",pt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,h(wt.duration.fn=d.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,r=this._days,s=this._months,o=this._data,a=0;o.milliseconds=i%1e3,t=p(i/1e3),o.seconds=t%60,e=p(t/60),o.minutes=e%60,n=p(e/60),o.hours=n%24,r+=p(n/24),a=p(mt(r)),r-=p(gt(a)),s+=p(r/30),r%=30,a+=p(s/12),s%=12,o.days=r,o.months=s,o.years=a},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)},humanize:function(t){var e=ot(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=wt.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=wt.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=S(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=S(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*mt(e),"month"===t?n:n/12;switch(e=this._days+gt(this._months/12),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||r||s?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(bt in le)n(le,bt)&&vt(bt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinal:function(t){var e=t%10,n=1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Gt?module.exports=wt:"function"==typeof define&&define.amd?(define("moment",function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(St.moment=_t),wt}),yt(!0)):yt()}.call(this),/*!
 * FullCalendar v2.2.0
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
function(t){"function"==typeof define&&define.amd?define(["jquery","moment"],t):t(jQuery,moment)}(function(t,e){function n(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function i(t,e){var n=e.longDateFormat("L");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n}function r(t){s(Ft,t)}function s(e){function n(n,i){t.isPlainObject(i)&&t.isPlainObject(e[n])&&!o(n)?e[n]=s({},e[n],i):void 0!==i&&(e[n]=i)}for(var i=1;arguments.length>i;i++)t.each(arguments[i],n);return e}function o(t){return/(Time|Duration)$/.test(t)}function a(n,i){function r(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function o(t){nt?d()&&(m(),f(t)):a()}function a(){it=Q.theme?"ui":"fc",n.addClass("fc"),Q.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),Q.theme?n.addClass("ui-widget"):n.addClass("fc-unthemed"),nt=t("<div class='fc-view-container'/>").prependTo(n),tt=new l(X,Q),et=tt.render(),et&&n.prepend(et),h(Q.defaultView),Q.handleWindowResize&&(ot=G(v,Q.windowResizeDelay),t(window).resize(ot))}function c(){rt&&rt.destroy(),tt.destroy(),nt.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),t(window).unbind("resize",ot)}function d(){return n.is(":visible")}function h(t){f(0,t)}function f(e,n){dt++,rt&&n&&rt.name!==n&&(tt.deactivateButton(rt.name),I(),rt.start&&rt.destroy(),rt.el.remove(),rt=null),!rt&&n&&(rt=new zt[n](X),rt.el=t("<div class='fc-view fc-"+n+"-view' />").appendTo(nt),tt.activateButton(n)),rt&&(e&&(at=rt.incrementDate(at,e)),rt.start&&!e&&at.isWithin(rt.intervalStart,rt.intervalEnd)||d()&&(I(),rt.start&&rt.destroy(),rt.render(at),V(),k(),E(),b())),V(),dt--}function p(t){return d()?(t&&g(),dt++,rt.updateSize(!0),dt--,!0):void 0}function m(){d()&&g()}function g(){st="number"==typeof Q.contentHeight?Q.contentHeight:"number"==typeof Q.height?Q.height-(et?et.outerHeight(!0):0):Math.round(nt.width()/Math.max(Q.aspectRatio,.5))}function v(t){!dt&&t.target===window&&rt.start&&p(!0)&&rt.trigger("windowResize",ct)}function y(){_(),D()}function w(){d()&&(I(),rt.destroyEvents(),rt.renderEvents(ht),V())}function _(){I(),rt.destroyEvents(),V()}function b(){!Q.lazyFetching||lt(rt.start,rt.end)?D():w()}function D(){ut(rt.start,rt.end)}function S(t){ht=t,w()}function T(){w()}function k(){tt.updateTitle(rt.title)}function E(){var t=X.getNow();t.isWithin(rt.intervalStart,rt.intervalEnd)?tt.disableButton("today"):tt.enableButton("today")}function C(t,e){t=X.moment(t),e=e?X.moment(e):t.hasTime()?t.clone().add(X.defaultTimedEventDuration):t.clone().add(X.defaultAllDayEventDuration),rt.select(t,e)}function M(){rt&&rt.unselect()}function H(){f(-1)}function Y(){f(1)}function F(){at.add(-1,"years"),f()}function R(){at.add(1,"years"),f()}function z(){at=X.getNow(),f()}function P(t){at=X.moment(t),f()}function L(t){at.add(e.duration(t)),f()}function W(t,e){var n,i;e&&void 0!==zt[e]||(e=e||"day",n=tt.getViewsWithButtons().join(" "),i=n.match(RegExp("\\w+"+O(e))),i||(i=n.match(/\w+Day/)),e=i?i[0]:"agendaDay"),at=t,h(e)}function A(){return at.clone()}function I(){nt.css({width:"100%",height:nt.height(),overflow:"hidden"})}function V(){nt.css({width:"",height:"",overflow:""})}function B(){return X}function U(){return rt}function j(t,e){return void 0===e?Q[t]:void(("height"==t||"contentHeight"==t||"aspectRatio"==t)&&(Q[t]=e,p(!0)))}function $(t,e){return Q[t]?Q[t].apply(e||ct,Array.prototype.slice.call(arguments,2)):void 0}var X=this;i=i||{};var q,Q=s({},Ft,i);q=Q.lang in Rt?Rt[Q.lang]:Rt[Ft.lang],q&&(Q=s({},Ft,q,i)),Q.isRTL&&(Q=s({},Ft,Ot,q||{},i)),X.options=Q,X.render=o,X.destroy=c,X.refetchEvents=y,X.reportEvents=S,X.reportEventChange=T,X.rerenderEvents=w,X.changeView=h,X.select=C,X.unselect=M,X.prev=H,X.next=Y,X.prevYear=F,X.nextYear=R,X.today=z,X.gotoDate=P,X.incrementDate=L,X.zoomTo=W,X.getDate=A,X.getCalendar=B,X.getView=U,X.option=j,X.trigger=$;var J=x(r(Q.lang));if(Q.monthNames&&(J._months=Q.monthNames),Q.monthNamesShort&&(J._monthsShort=Q.monthNamesShort),Q.dayNames&&(J._weekdays=Q.dayNames),Q.dayNamesShort&&(J._weekdaysShort=Q.dayNamesShort),null!=Q.firstDay){var K=x(J._week);K.dow=Q.firstDay,J._week=K}X.defaultAllDayEventDuration=e.duration(Q.defaultAllDayEventDuration),X.defaultTimedEventDuration=e.duration(Q.defaultTimedEventDuration),X.moment=function(){var t;return"local"===Q.timezone?(t=Gt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===Q.timezone?Gt.moment.utc.apply(null,arguments):Gt.moment.parseZone.apply(null,arguments),"_locale"in t?t._locale=J:t._lang=J,t},X.getIsAmbigTimezone=function(){return"local"!==Q.timezone&&"UTC"!==Q.timezone},X.rezoneDate=function(t){return X.moment(t.toArray())},X.getNow=function(){var t=Q.now;return"function"==typeof t&&(t=t()),X.moment(t)},X.calculateWeekNumber=function(t){var e=Q.weekNumberCalculation;return"function"==typeof e?e(t):"local"===e?t.week():"ISO"===e.toUpperCase()?t.isoWeek():void 0},X.getEventEnd=function(t){return t.end?t.end.clone():X.getDefaultEventEnd(t.allDay,t.start)},X.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(X.defaultAllDayEventDuration):n.add(X.defaultTimedEventDuration),X.getIsAmbigTimezone()&&n.stripZone(),n},X.formatRange=function(t,e,n){return"function"==typeof n&&(n=n.call(X,Q,J)),Z(t,e,n,null,Q.isRTL)},X.formatDate=function(t,e){return"function"==typeof e&&(e=e.call(X,Q,J)),N(t,e)},u.call(X,Q);var tt,et,nt,it,rt,st,ot,at,lt=X.isFetchNeeded,ut=X.fetchEvents,ct=n[0],dt=0,ht=[];at=null!=Q.defaultDate?X.moment(Q.defaultDate):X.getNow(),X.getSuggestedViewHeight=function(){return void 0===st&&m(),st},X.isHeightAuto=function(){return"auto"===Q.contentHeight||"auto"===Q.height}}function l(e,n){function i(){var e=n.header;return f=n.theme?"ui":"fc",e?p=t("<div class='fc-toolbar'/>").append(s("left")).append(s("right")).append(s("center")).append('<div class="fc-clear"/>'):void 0}function r(){p.remove()}function s(i){var r=t('<div class="fc-'+i+'"/>'),s=n.header[i];return s&&t.each(s.split(" "),function(){var i,s=t(),o=!0;t.each(this.split(","),function(i,r){var a,l,u,c,d,h,p,g;"title"==r?(s=s.add(t("<h2>&nbsp;</h2>")),o=!1):(e[r]?a=function(){e[r]()}:zt[r]&&(a=function(){e.changeView(r)},m.push(r)),a&&(l=T(n.themeButtonIcons,r),u=T(n.buttonIcons,r),c=T(n.defaultButtonText,r),d=T(n.buttonText,r),h=d?F(d):l&&n.theme?"<span class='ui-icon ui-icon-"+l+"'></span>":u&&!n.theme?"<span class='fc-icon fc-icon-"+u+"'></span>":F(c||r),p=["fc-"+r+"-button",f+"-button",f+"-state-default"],g=t('<button type="button" class="'+p.join(" ")+'">'+h+"</button>").click(function(){g.hasClass(f+"-state-disabled")||(a(),(g.hasClass(f+"-state-active")||g.hasClass(f+"-state-disabled"))&&g.removeClass(f+"-state-hover"))}).mousedown(function(){g.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){g.removeClass(f+"-state-down")}).hover(function(){g.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){g.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),s=s.add(g)))}),o&&s.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),s.length>1?(i=t("<div/>"),o&&i.addClass("fc-button-group"),i.append(s),r.append(i)):r.append(s)}),r}function o(t){p.find("h2").text(t)}function a(t){p.find(".fc-"+t+"-button").addClass(f+"-state-active")}function l(t){p.find(".fc-"+t+"-button").removeClass(f+"-state-active")}function u(t){p.find(".fc-"+t+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function c(t){p.find(".fc-"+t+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function d(){return m}var h=this;h.render=i,h.destroy=r,h.updateTitle=o,h.activateButton=a,h.deactivateButton=l,h.disableButton=u,h.enableButton=c,h.getViewsWithButtons=d;var f,p=t(),m=[]}function u(n){function i(t,e){return!L||t.clone().stripZone()<L.clone().stripZone()||e.clone().stripZone()>W.clone().stripZone()}function r(t,e){L=t,W=e,X=[];var n=++U,i=B.length;j=i;for(var r=0;i>r;r++)s(B[r],n)}function s(e,n){o(e,function(i){var r,s,o,a=t.isArray(e.events);if(n==U){if(i)for(r=0;i.length>r;r++)s=i[r],o=a?s:_(s,e),o&&X.push.apply(X,D(o));j--,j||I(X)}})}function o(e,i){var r,s,a=Gt.sourceFetchers;for(r=0;a.length>r;r++){if(s=a[r].call(P,e,L.clone(),W.clone(),n.timezone,i),s===!0)return;if("object"==typeof s)return void o(s,i)}var l=e.events;if(l)t.isFunction(l)?(y(),l.call(P,L.clone(),W.clone(),n.timezone,function(t){i(t),w()})):t.isArray(l)?i(l):i();else{var u=e.url;if(u){var c,d=e.success,h=e.error,f=e.complete;c=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},c||{}),m=Y(e.startParam,n.startParam),g=Y(e.endParam,n.endParam),v=Y(e.timezoneParam,n.timezoneParam);m&&(p[m]=L.format()),g&&(p[g]=W.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),y(),t.ajax(t.extend({},Pt,e,{data:p,success:function(e){e=e||[];var n=H(d,this,arguments);t.isArray(n)&&(e=n),i(e)},error:function(){H(h,this,arguments),i()},complete:function(){H(f,this,arguments),w()}}))}else i()}}function a(t){var e=l(t);e&&(B.push(e),j++,s(e,U))}function l(e){var n,i,r=Gt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return _(t,n)})),i=0;r.length>i;i++)r[i].call(P,n);return n}}function u(e){B=t.grep(B,function(t){return!d(t,e)}),X=t.grep(X,function(t){return!d(t.source,e)}),I(X)}function d(t,e){return t&&e&&h(t)==h(e)}function h(t){return("object"==typeof t?t.origArray||t.url||t.events:null)||t}function f(t){t.start=P.moment(t.start),t.end&&(t.end=P.moment(t.end)),S(t),p(t),I(X)}function p(t){var e,n,i,r;for(e=0;X.length>e;e++)if(n=X[e],n._id==t._id&&n!==t)for(i=0;q.length>i;i++)r=q[i],void 0!==t[r]&&(n[r]=t[r])}function m(t,e){var n,i,r,s=_(t);if(s){for(n=D(s),i=0;n.length>i;i++)r=n[i],r.source||(e&&(Z.events.push(r),r.source=Z),X.push(r));return I(X),n}return[]}function g(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),X=t.grep(X,e,!0),i=0;B.length>i;i++)t.isArray(B[i].events)&&(B[i].events=t.grep(B[i].events,e,!0));I(X)}function v(e){return t.isFunction(e)?t.grep(X,e):null!=e?(e+="",t.grep(X,function(t){return t._id==e})):X}function y(){$++||A("loading",null,!0,N())}function w(){--$||A("loading",null,!1,N())}function _(i,r){var s,o,a,l,u={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),t.extend(u,i),r&&(u.source=r),u._id=i._id||(void 0===i.id?"_fc"+Lt++:i.id+""),u.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],s=i.start||i.date,o=i.end,M(s)&&(s=e.duration(s)),M(o)&&(o=e.duration(o)),i.dow||e.isDuration(s)||e.isDuration(o))u.start=s?e.duration(s):null,u.end=o?e.duration(o):null,u._recurring=!0;else{if(s&&(s=P.moment(s),!s.isValid()))return!1;if(o&&(o=P.moment(o),!o.isValid()))return!1;a=i.allDay,void 0===a&&(l=Y(r?r.allDayDefault:void 0,n.allDayDefault),a=void 0!==l?l:!(s.hasTime()||o&&o.hasTime())),b(s,o,a,u)}return u}function b(t,e,i,r){i?(t.hasTime()&&t.stripTime(),e&&e.hasTime()&&e.stripTime()):(t.hasTime()||(t=P.rezoneDate(t)),e&&!e.hasTime()&&(e=P.rezoneDate(e))),r.allDay=i,r.start=t,r.end=e||null,n.forceEventDuration&&!r.end&&(r.end=V(r)),c(r)}function D(e){var n,i,r,s,o,a,l,u,c,d,h=[],f=L,p=W;if(f&&p||(n=P.getView(),f=n.start,p=n.end),e)if(e._recurring){if(r=e.dow)for(i={},s=0;r.length>s;s++)i[r[s]]=!0;for(o=f.clone().stripTime();o.isBefore(p);)(!i||i[o.day()])&&(a=e.start,l=e.end,u=o.clone(),c=null,a&&(u=u.time(a)),l&&(c=o.clone().time(l)),d=t.extend({},e),b(u,c,!a&&!l,d),h.push(d)),o.add(1,"days")}else h.push(e);return h}function S(t,e,n){var i,r,s,o,a=t._allDay,l=t._start,u=t._end,c=!1;return e||n||(e=t.start,n=t.end),i=t.allDay!=a?t.allDay:!(e||n).hasTime(),i&&(e&&(e=e.clone().stripTime()),n&&(n=n.clone().stripTime())),e&&(r=i?k(e,l.clone().stripTime()):k(e,l)),i!=a?c=!0:n&&(s=k(n||P.getDefaultEventEnd(i,e||l),e||l).subtract(k(u||P.getDefaultEventEnd(a,l),l))),o=T(v(t._id),c,i,r,s),{dateDelta:r,durationDelta:s,undo:o}}function T(e,i,r,s,o){var a=P.getIsAmbigTimezone(),l=[];return t.each(e,function(t,e){var u=e._allDay,d=e._start,h=e._end,f=null!=r?r:u,p=d.clone(),m=!i&&h?h.clone():null;f?(p.stripTime(),m&&m.stripTime()):(p.hasTime()||(p=P.rezoneDate(p)),m&&!m.hasTime()&&(m=P.rezoneDate(m))),m||!n.forceEventDuration&&!+o||(m=P.getDefaultEventEnd(f,p)),p.add(s),m&&m.add(s).add(o),a&&(+s||+o)&&(p.stripZone(),m&&m.stripZone()),e.allDay=f,e.start=p,e.end=m,c(e),l.push(function(){e.allDay=u,e.start=d,e.end=h,c(e)})}),function(){for(var t=0;l.length>t;t++)l[t]()}}function E(){var e,i=n.businessHours,r={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};return i&&(e="object"==typeof i?t.extend({},r,i):r),e?D(_(e)):[]}function C(t,e,i){var r=t.source||{},s=Y(t.constraint,r.constraint,n.eventConstraint),o=Y(t.overlap,r.overlap,n.eventOverlap);return R(e,i,s,o,t)}function x(t,e){return R(t,e,n.selectConstraint,n.selectOverlap)}function F(t,e,n){var i;return n&&(i=D(_(n))[0])?C(i,t,e):x(t,e)}function R(t,e,n,i,r){var s,o,a,l,u;if(t=t.clone().stripZone(),e=e.clone().stripZone(),null!=n){for(s=O(n),o=!1,a=0;s.length>a;a++)if(G(s[a],t,e)){o=!0;break}if(!o)return!1}for(a=0;X.length>a;a++)if(l=X[a],(!r||r._id!==l._id)&&z(l,t,e)){if(i===!1)return!1;if("function"==typeof i&&!i(l,r))return!1;if(r){if(u=Y(l.overlap,(l.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(r,l))return!1}}return!0}function O(t){return"businessHours"===t?E():"object"==typeof t?D(_(t)):v(t)}function G(t,e,n){var i=t.start.clone().stripZone(),r=P.getEventEnd(t).stripZone();return e>=i&&r>=n}function z(t,e,n){var i=t.start.clone().stripZone(),r=P.getEventEnd(t).stripZone();return r>e&&n>i}var P=this;P.isFetchNeeded=i,P.fetchEvents=r,P.addEventSource=a,P.removeEventSource=u,P.updateEvent=f,P.renderEvent=m,P.removeEvents=g,P.clientEvents=v,P.mutateEvent=S;var L,W,A=P.trigger,N=P.getView,I=P.reportEvents,V=P.getEventEnd,Z={events:[]},B=[Z],U=0,j=0,$=0,X=[];t.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(t,e){var n=l(e);n&&B.push(n)});var q=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"];P.getBusinessHoursEvents=E,P.isEventAllowedInRange=C,P.isSelectionAllowedInRange=x,P.isExternalDragAllowedInRange=F}function c(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}function d(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function h(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function f(){t("body").addClass("fc-not-allowed")}function p(){t("body").removeClass("fc-not-allowed")}function m(e,n,i){var r=Math.floor(n/e.length),s=Math.floor(n-r*(e.length-1)),o=[],a=[],l=[],u=0;g(e),e.each(function(n,i){var c=n===e.length-1?s:r,d=t(i).outerHeight(!0);c>d?(o.push(i),a.push(d),l.push(t(i).height())):u+=d}),i&&(n-=u,r=Math.floor(n/o.length),s=Math.floor(n-r*(o.length-1))),t(o).each(function(e,n){var i=e===o.length-1?s:r,u=a[e],c=l[e],d=i-(u-c);i>u&&t(n).height(d)})}function g(t){t.height("")}function v(e){var n=0;return e.find("> *").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function y(t,e){return t.height(e).addClass("fc-scroller"),t[0].scrollHeight-1>t[0].clientHeight?!0:(w(t),!1)}function w(t){t.height("").removeClass("fc-scroller")}function _(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function b(t){var e=t.offset().left,n=e+t.width(),i=t.children(),r=i.offset().left,s=r+i.outerWidth();return{left:r-e,right:n-s}}function D(t){return 1==t.which&&!t.ctrlKey}function S(t,e,n,i){var r,s,o,a;return e>n&&i>t?(t>=n?(r=t.clone(),o=!0):(r=n.clone(),o=!1),i>=e?(s=e.clone(),a=!0):(s=i.clone(),a=!1),{start:r,end:s,isStart:o,isEnd:a}):void 0}function T(t,e){if(t=t||{},void 0!==t[e])return t[e];for(var n,i=e.split(/(?=[A-Z])/),r=i.length-1;r>=0;r--)if(n=t[i[r].toLowerCase()],void 0!==n)return n;return t["default"]}function k(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function E(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function C(t,e){return t-e}function M(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function x(t){var e=function(){};return e.prototype=t,new e}function H(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,s;for(r=0;e.length>r;r++)s=e[r].apply(n,i)||s;return s}}function Y(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t]}function F(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function R(t){return t.replace(/&.*?;/g,"")}function O(t){return t.charAt(0).toUpperCase()+t.slice(1)}function G(t,e){var n,i,r,s,o=function(){var a=+new Date-s;e>a&&a>0?n=setTimeout(o,e-a):(n=null,t.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,s=+new Date,n||(n=setTimeout(o,e))}}function z(n,i,r){var s,o,a,l,u=n[0],c=1==n.length&&"string"==typeof u;return e.isMoment(u)?(l=e.apply(null,n),L(u,l)):E(u)||void 0===u?l=e.apply(null,n):(s=!1,o=!1,c?Vt.test(u)?(u+="-01",n=[u],s=!0,o=!0):(a=Zt.exec(u))&&(s=!a[5],o=!0):t.isArray(u)&&(o=!0),l=i?e.utc.apply(e,n):e.apply(null,n),s?(l._ambigTime=!0,l._ambigZone=!0):r&&(o?l._ambigZone=!0:c&&l.zone(u))),l._fullCalendar=!0,l}function P(t,e){var n,i=[],r=!1,s=!1;for(n=0;t.length>n;n++)i.push(Gt.moment.parseZone(t[n])),r=r||i[n]._ambigTime,s=s||i[n]._ambigZone;for(n=0;i.length>n;n++)r&&!e?i[n].stripTime():s&&i[n].stripZone();return i}function L(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function W(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function A(t,e){return Ut.format.call(t,e)}function N(t,e){return I(t,j(e))}function I(t,e){var n,i="";for(n=0;e.length>n;n++)i+=V(t,e[n]);return i}function V(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?jt[n]?jt[n](t):A(t,n):e.maybe&&(i=I(t,e.maybe),i.match(/[1-9]/))?i:""}function Z(t,e,n,i,r){var s;return t=Gt.moment.parseZone(t),e=Gt.moment.parseZone(e),s=(t.localeData||t.lang).call(t),n=s.longDateFormat(n)||n,i=i||" - ",B(t,e,j(n),i,r)}function B(t,e,n,i,r){var s,o,a,l,u="",c="",d="",h="",f="";for(o=0;n.length>o&&(s=U(t,e,n[o]),s!==!1);o++)u+=s;for(a=n.length-1;a>o&&(s=U(t,e,n[a]),s!==!1);a--)c=s+c;for(l=o;a>=l;l++)d+=V(t,n[l]),h+=V(e,n[l]);return(d||h)&&(f=r?h+i+d:d+i+h),u+f+c}function U(t,e,n){var i,r;return"string"==typeof n?n:(i=n.token)&&(r=$t[i.charAt(0)],r&&t.isSame(e,r))?A(t,i):!1}function j(t){return t in Xt?Xt[t]:Xt[t]=$(t)}function $(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:$(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function X(t){this.options=t||{}}function q(t){this.grid=t}function Q(t){this.coordMaps=t}function J(t,e){this.coordMap=t,this.options=e||{}}function K(t,e){return t||e?t&&e?t.grid===e.grid&&t.row===e.row&&t.col===e.col:!1:!0}function tt(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()}function et(t){this.view=t}function nt(t){et.call(this,t),this.coordMap=new q(this),this.elsByFill={}}function it(t){var e=st(t);return"background"===e||"inverse-background"===e}function rt(t){return"inverse-background"===st(t)}function st(t){return Y((t.source||{}).rendering,t.rendering)}function ot(t){var e,n,i={};for(e=0;t.length>e;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function at(t,e){return t.eventStartMS-e.eventStartMS}function lt(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||(t.event.title||"").localeCompare(e.event.title)}function ut(t){nt.call(this,t)}function ct(t,e){var n,i;for(n=0;e.length>n;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function dt(t,e){return t.leftCol-e.leftCol}function ht(t){nt.call(this,t)}function ft(t){var e,n,i;if(t.sort(lt),e=pt(t),mt(e),n=e[0]){for(i=0;n.length>i;i++)gt(n[i]);for(i=0;n.length>i;i++)vt(n[i],0,0)}}function pt(t){var e,n,i,r=[];for(e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&yt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function mt(t){var e,n,i,r,s;for(e=0;t.length>e;e++)for(n=t[e],i=0;n.length>i;i++)for(r=n[i],r.forwardSegs=[],s=e+1;t.length>s;s++)yt(r,t[s],r.forwardSegs)}function gt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;i.length>e;e++)n=i[e],gt(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function vt(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(r.sort(_t),vt(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;r.length>i;i++)vt(r[i],0,t.forwardCoord)}function yt(t,e,n){n=n||[];for(var i=0;e.length>i;i++)wt(t,e[i])&&n.push(e[i]);return n}function wt(t,e){return t.bottom>e.top&&t.top<e.bottom}function _t(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||lt(t,e)}function bt(n){function i(e){var n=C[e];return t.isPlainObject(n)&&!o(e)?T(n,k.name):n}function r(t,e){return n.trigger.apply(n,[t,e||k].concat(Array.prototype.slice.call(arguments,2),[k]))}function s(t){var e=t.source||{};return Y(t.startEditable,e.startEditable,i("eventStartEditable"),t.editable,e.editable,i("editable"))}function a(t){var e=t.source||{};return Y(t.durationEditable,e.durationEditable,i("eventDurationEditable"),t.editable,e.editable,i("editable"))}function l(t,e,i,s){var o=n.mutateEvent(e,i,null);r("eventDrop",t,e,o.dateDelta,function(){o.undo(),E()},s,{}),E()}function u(t,e,i,s){var o=n.mutateEvent(e,null,i);r("eventResize",t,e,o.durationDelta,function(){o.undo(),E()},s,{}),E()}function c(t){return e.isMoment(t)&&(t=t.day()),F[t]}function d(){return x}function h(t,e,n){var i=t.clone();for(e=e||1;F[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i}function f(){var t=p.apply(null,arguments),e=m(t),n=g(e);return n}function p(t,e){var n=k.colCnt,i=G?-1:1,r=G?n-1:0;"object"==typeof t&&(e=t.col,t=t.row);var s=t*n+(e*i+r);return s}function m(t){var e=k.start.day();return t+=R[e],7*Math.floor(t/x)+O[(t%x+x)%x]-e}function g(t){return k.start.clone().add(t,"days")}function v(t){var e=y(t),n=w(e),i=_(n);return i}function y(t){return t.clone().stripTime().diff(k.start,"days")}function w(t){var e=k.start.day();return t+=e,Math.floor(t/7)*x+R[(t%7+7)%7]-R[e]}function _(t){var e=k.colCnt,n=G?-1:1,i=G?e-1:0,r=Math.floor(t/e),s=(t%e+e)%e*n+i;return{row:r,col:s}}function b(t,e){for(var n=k.rowCnt,i=k.colCnt,r=[],s=D(t,e),o=y(s.start),a=y(s.end),l=w(o),u=w(a)-1,c=0;n>c;c++){var d=c*i,h=d+i-1,f=Math.max(l,d),p=Math.min(u,h);if(p>=f){var g=_(f),v=_(p),b=[g.col,v.col].sort(),S=m(f)==o,T=m(p)+1==a;r.push({row:c,leftCol:b[0],rightCol:b[1],isStart:S,isEnd:T})}}return r}function D(t,e){var n,i,r=t.clone().stripTime();return e&&(n=e.clone().stripTime(),i=+e.time(),i&&i>=M&&n.add(1,"days")),(!e||r>=n)&&(n=r.clone().add(1,"days")),{start:r,end:n}}function S(t){var e=D(t.start,t.end);return e.end.diff(e.start,"days")>1}var k=this;k.calendar=n,k.opt=i,k.trigger=r,k.isEventDraggable=s,k.isEventResizable=a,k.eventDrop=l,k.eventResize=u;var E=n.reportEventChange,C=n.options,M=e.duration(C.nextDayThreshold);k.init(),k.getEventTimeText=function(t,e){var r,s;return"object"==typeof t&&"object"==typeof e?(r=t,s=e,e=arguments[2]):(r=t.start,s=t.end),e=e||i("timeFormat"),s&&i("displayEventEnd")?n.formatRange(r,s,e):n.formatDate(r,e)},k.isHiddenDay=c,k.skipHiddenDays=h,k.getCellsPerWeek=d,k.dateToCell=v,k.dateToDayOffset=y,k.dayOffsetToCellOffset=w,k.cellOffsetToCell=_,k.cellToDate=f,k.cellToCellOffset=p,k.cellOffsetToDayOffset=m,k.dayOffsetToDate=g,k.rangeToSegments=b,k.isMultiDayEvent=S;var x,H=i("hiddenDays")||[],F=[],R=[],O=[],G=i("isRTL");!function(){i("weekends")===!1&&H.push(0,6);for(var e=0,n=0;7>e;e++)R[e]=n,F[e]=-1!=t.inArray(e,H),F[e]||(O[n]=e,n++);if(x=n,!x)throw"invalid hiddenDays"}()}function Dt(n){var i,r,s,o,a=Gt.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),s=i.duration,o=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==s&&(s=n.data(a+"duration")),null==o&&(o=n.data(a+"stick")),r=null!=r?e.duration(r):null,s=null!=s?e.duration(s):null,o=Boolean(o),{eventProps:i,startTime:r,duration:s,stick:o}}function St(t){bt.call(this,t),this.dayGrid=new ut(this),this.coordMap=this.dayGrid.coordMap}function Tt(t){St.call(this,t)}function kt(t){St.call(this,t)}function Et(t){St.call(this,t)}function Ct(t,e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function Mt(t,e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}function xt(t){bt.call(this,t),this.timeGrid=new ht(this),this.opt("allDaySlot")?(this.dayGrid=new ut(this),this.coordMap=new Q([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function Ht(t){xt.call(this,t)}function Yt(t){xt.call(this,t)}var Ft={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:i,day:"dddd"},timeFormat:{"default":n},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Rt={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},Ot={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Gt=t.fullCalendar={version:"2.2.0"},zt=Gt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,s){var o,l=t(s),u=l.data("fullCalendar");"string"==typeof e?u&&t.isFunction(u[e])&&(o=u[e].apply(u,n),r||(i=o),"destroy"===e&&l.removeData("fullCalendar")):u||(u=new a(l,e),l.data("fullCalendar",u),u.render())}),i},Gt.langs=Rt,Gt.datepickerLang=function(e,n,i){var r=Rt[e];r||(r=Rt[e]={}),s(r,{isRTL:i.isRTL,weekNumberTitle:i.weekHeader,titleFormat:{month:i.showMonthAfterYear?"YYYY["+i.yearSuffix+"] MMMM":"MMMM YYYY["+i.yearSuffix+"]"},defaultButtonText:{prev:R(i.prevText),next:R(i.nextText),today:R(i.currentText)}}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Gt.lang=function(t,e){var n;e&&(n=Rt[t],n||(n=Rt[t]={}),s(n,e||{})),Ft.lang=t},Gt.sourceNormalizers=[],Gt.sourceFetchers=[];var Pt={dataType:"json",cache:!1},Lt=1,Wt=["sun","mon","tue","wed","thu","fri","sat"];Gt.applyAll=H;var At,Nt,It,Vt=/^\s*\d{4}-\d\d$/,Zt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Bt=e.fn,Ut=t.extend({},Bt);Gt.moment=function(){return z(arguments)},Gt.moment.utc=function(){var t=z(arguments,!0);return t.hasTime()&&t.utc(),t},Gt.moment.parseZone=function(){return z(arguments,!0,!0)},Bt.clone=function(){var t=Ut.clone.apply(this,arguments);return L(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},Bt.time=function(t){if(!this._fullCalendar)return Ut.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},Bt.stripTime=function(){var t=this.toArray();return this.utc(),Nt(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0,this},Bt.hasTime=function(){return!this._ambigTime},Bt.stripZone=function(){var t=this.toArray(),e=this._ambigTime;return this.utc(),Nt(this,t),e&&(this._ambigTime=!0),this._ambigZone=!0,this},Bt.hasZone=function(){return!this._ambigZone},Bt.zone=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),Ut.zone.apply(this,arguments)},Bt.local=function(){var t=this.toArray(),e=this._ambigZone;return Ut.local.apply(this,arguments),e&&It(this,t),this},Bt.format=function(){return this._fullCalendar&&arguments[0]?N(this,arguments[0]):this._ambigTime?A(this,"YYYY-MM-DD"):this._ambigZone?A(this,"YYYY-MM-DD[T]HH:mm:ss"):Ut.format.apply(this,arguments)},Bt.toISOString=function(){return this._ambigTime?A(this,"YYYY-MM-DD"):this._ambigZone?A(this,"YYYY-MM-DD[T]HH:mm:ss"):Ut.toISOString.apply(this,arguments)},Bt.isWithin=function(t,e){var n=P([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},Bt.isSame=function(t,e){var n;return this._fullCalendar?e?(n=P([this,t],!0),Ut.isSame.call(n[0],n[1],e)):(t=Gt.moment.parseZone(t),Ut.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):Ut.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){Bt[e]=function(t,n){var i;return this._fullCalendar?(i=P([this,t]),Ut[e].call(i[0],i[1],n)):Ut[e].apply(this,arguments)}}),At="_d"in e()&&"updateOffset"in e,Nt=At?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:W,It=At?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:W;var jt={t:function(t){return A(t,"a").charAt(0)},T:function(t){return A(t,"A").charAt(0)}};Gt.formatRange=Z;var $t={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Xt={};X.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&t(document).on("mousedown",this.documentMousedownProxy=t.proxy(this,"documentMousedown"))},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),t(document).off("mousedown",this.documentMousedownProxy)},position:function(){var e,n,i,r,s,o=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),u=this.el.outerHeight(),c=t(window),d=_(this.el);r=o.top||0,s=void 0!==o.left?o.left:void 0!==o.right?o.right-l:0,d.is(window)||d.is(document)?(d=c,e=0,n=0):(i=d.offset(),e=i.top,n=i.left),e+=c.scrollTop(),n+=c.scrollLeft(),o.viewportConstrain!==!1&&(r=Math.min(r,e+d.outerHeight()-u-this.margin),r=Math.max(r,e+this.margin),s=Math.min(s,n+d.outerWidth()-l-this.margin),s=Math.max(s,n+this.margin)),this.el.css({top:r-a.top,left:s-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}},q.prototype={grid:null,rows:null,cols:null,containerEl:null,
minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]),this.computeBounds()},getCell:function(t,e){var n,i=null,r=this.rows,s=this.cols,o=-1,a=-1;if(this.inBounds(t,e)){for(n=0;r.length>n;n++)if(e>=r[n][0]&&r[n][1]>e){o=n;break}for(n=0;s.length>n;n++)if(t>=s[n][0]&&s[n][1]>t){a=n;break}o>=0&&a>=0&&(i={row:o,col:a},i.grid=this.grid,i.date=this.grid.getCellDate(i))}return i},computeBounds:function(){var t;this.containerEl&&(t=this.containerEl.offset(),this.minX=t.left,this.maxX=t.left+this.containerEl.outerWidth(),this.minY=t.top,this.maxY=t.top+this.containerEl.outerHeight())},inBounds:function(t,e){return this.containerEl?t>=this.minX&&this.maxX>t&&e>=this.minY&&this.maxY>e:!0}},Q.prototype={coordMaps:null,build:function(){var t,e=this.coordMaps;for(t=0;e.length>t;t++)e[t].build()},getCell:function(t,e){var n,i=this.coordMaps,r=null;for(n=0;i.length>n&&!r;n++)r=i[n].getCell(t,e);return r}},J.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(t){D(t)&&(t.preventDefault(),this.startListening(t),this.options.distance||this.startDrag(t))},startListening:function(e){var n,i;this.isListening||(e&&this.options.scroll&&(n=_(t(e.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=G(t.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),e&&(i=this.getCell(e),this.origCell=i,this.origDate=i?i.date:null,this.mouseX0=e.pageX,this.mouseY0=e.pageY),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=t.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",e))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(t){var e,n;this.isDragging||(e=this.options.distance||1,n=Math.pow(t.pageX-this.mouseX0,2)+Math.pow(t.pageY-this.mouseY0,2),n>=e*e&&this.startDrag(t)),this.isDragging&&this.drag(t)},startDrag:function(t){var e;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",t),e=this.getCell(t),e&&this.cellOver(e,!0))},drag:function(t){var e;this.isDragging&&(e=this.getCell(t),K(e,this.cell)||(this.cell&&this.cellOut(),e&&this.cellOver(e)),this.dragScroll(t))},cellOver:function(t){this.cell=t,this.date=t.date,this.trigger("cellOver",t,t.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null,this.date=null)},mouseup:function(t){this.stopDrag(t),this.stopListening(t)},stopDrag:function(t){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",t),this.isDragging=!1)},stopListening:function(e){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),t(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",e),this.origCell=this.cell=null,this.origDate=this.date=null)},getCell:function(t){return this.coordMap.getCell(t.pageX,t.pageY)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(t){t.preventDefault()},computeScrollBounds:function(){var t,e=this.scrollEl;e&&(t=e.offset(),this.scrollBounds={top:t.top,left:t.left,bottom:t.top+e.outerHeight(),right:t.left+e.outerWidth()})},dragScroll:function(t){var e,n,i,r,s=this.scrollSensitivity,o=this.scrollBounds,a=0,l=0;o&&(e=(s-(t.pageY-o.top))/s,n=(s-(o.bottom-t.pageY))/s,i=(s-(t.pageX-o.left))/s,r=(s-(o.right-t.pageX))/s,e>=0&&1>=e?a=-1*e*this.scrollSpeed:n>=0&&1>=n&&(a=n*this.scrollSpeed),i>=0&&1>=i?l=-1*i*this.scrollSpeed:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(e,n){this.scrollTopVel=e,this.scrollLeftVel=n,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(t.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;0>this.scrollTopVel?0>=t.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),0>this.scrollLeftVel?0>=t.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}},tt.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(e){this.isFollowing||(this.isFollowing=!0,this.mouseY0=e.pageY,this.mouseX0=e.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),t(document).on("mousemove",this.mousemoveProxy=t.proxy(this,"mousemove")))},stop:function(e,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,s=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,t(document).off("mousemove",this.mousemoveProxy),e&&s&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:s,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),t},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(t){this.topDelta=t.pageY-this.mouseY0,this.leftDelta=t.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}},et.prototype={view:null,cellHtml:"<td/>",rowHtml:function(t,e){var n,i,r=this.view,s=this.getHtmlRenderer("cell",t),o="";for(e=e||0,n=0;r.colCnt>n;n++)i=r.cellToDate(e,n),o+=s(e,n,i);return o=this.bookendCells(o,t,e),"<tr>"+o+"</tr>"},bookendCells:function(t,e,n){var i=this.view,r=this.getHtmlRenderer("intro",e)(n||0),s=this.getHtmlRenderer("outro",e)(n||0),o=i.opt("isRTL"),a=o?s:r,l=o?r:s;return"string"==typeof t?a+t+l:t.prepend(a).append(l)},getHtmlRenderer:function(t,e){var n,i,r,s,o=this.view;return n=t+"Html",e&&(i=e+O(t)+"Html"),i&&(s=o[i])?r=o:i&&(s=this[i])?r=this:(s=o[n])?r=o:(s=this[n])&&(r=this),"function"==typeof s?function(){return s.apply(r,arguments)||""}:function(){return s||""}}},nt.prototype=x(et.prototype),t.extend(nt.prototype,{el:null,coordMap:null,cellDuration:null,elsByFill:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(){},getCellDate:function(){},getCellDayEl:function(){},rangeToSegs:function(){},bindHandlers:function(){var e=this;this.el.on("mousedown",function(n){t(n.target).is(".fc-event-container *, .fc-more")||t(n.target).closest(".fc-popover").length||e.dayMousedown(n)}),this.bindSegHandlers()},dayMousedown:function(t){var e,n,i,r=this,s=this.view,o=s.calendar,a=s.opt("selectable"),l=null,u=new J(this.coordMap,{scroll:s.opt("dragScroll"),dragStart:function(){s.unselect()},cellOver:function(t,s){u.origDate&&(i=r.getCellDayEl(t),l=[s,u.origDate].sort(C),e=l[0],n=l[1].clone().add(r.cellDuration),a&&(o.isSelectionAllowedInRange(e,n)?r.renderSelection(e,n):(l=null,f())))},cellOut:function(){l=null,r.destroySelection(),p()},listenStop:function(t){l&&(l[0].isSame(l[1])&&s.trigger("dayClick",i[0],e,t),a&&s.reportSelection(e,n,t)),p()}});u.mousedown(t)},renderDrag:function(){},destroyDrag:function(){},renderResize:function(){},destroyResize:function(){},renderRangeHelper:function(t,e,n){var i,r=this.view;!e&&r.opt("forceEventDuration")&&(e=r.calendar.getDefaultEventEnd(!t.hasTime(),t)),i=n?x(n.event):{},i.start=t,i.end=e,i.allDay=!(t.hasTime()||e&&e.hasTime()),i.className=(i.className||[]).concat("fc-helper"),n||(i.editable=!1),this.renderHelper(i,n)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(t,e){this.renderHighlight(t,e)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(t,e){this.renderFill("highlight",this.rangeToSegs(t,e))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,s=this[e+"SegEl"],o="",a=[];if(n.length){for(i=0;n.length>i;i++)o+=this.fillSegHtml(e,n[i]);t(o).each(function(e,i){var o=n[e],l=t(i);s&&(l=s.call(r,o,l)),l&&(l=t(l),l.is(r.fillSegTag)&&(o.el=l,a.push(o)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegStyles"],r=n?n.call(this,e):[],s=i?i.call(this,e):"";return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(s?' style="'+s+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(t,e,n){var i=this.view,r=i.calendar,s=i.opt("columnFormat");return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Wt[n.day()]+'">'+F(r.formatDate(n,s))+"</th>"},bgCellHtml:function(t,e,n){var i=this.view,r=this.getDayClasses(n);return r.unshift("fc-day",i.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+n.format()+'"></td>'},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow().stripTime(),i=["fc-"+Wt[t.day()]];return"month"===e.name&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):n>t?i.push("fc-past"):i.push("fc-future"),i}}),t.extend(nt.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(t){var e,n,i=this.eventsToSegs(t),r=[],s=[];for(e=0;i.length>e;e++)n=i[e],it(n.event)?r.push(n):s.push(n);r=this.renderBgSegs(r)||r,s=this.renderFgSegs(s)||s,this.segs=r.concat(s)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,s="",o=[];if(e.length){for(i=0;e.length>i;i++)s+=this.fgSegHtml(e[i],n);t(s).each(function(n,i){var s=e[n],a=r.resolveEventEl(s.event,t(i));a&&(a.data("fc-seg",s),s.el=a,o.push(s))})}return o},fgSegHtml:function(){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegStyles:function(t){var e=this.view,n=t.event,i=n.source||{},r=n.color,s=i.color,o=e.opt("eventColor"),a=n.backgroundColor||r||i.backgroundColor||s||e.opt("eventBackgroundColor")||o;return a?"background-color:"+a:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var e=this,n=this.view;t.each({mouseenter:function(t,n){e.triggerSegMouseover(t,n)},mouseleave:function(t,n){e.triggerSegMouseout(t,n)},click:function(t,e){return n.trigger("eventClick",this,t.event,e)},mousedown:function(i,r){t(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?e.segResizeMousedown(i,r):n.isEventDraggable(i.event)&&e.segDragMousedown(i,r)}},function(n,i){e.el.on(n,".fc-event-container > *",function(n){var r=t(this).data("fc-seg");return!r||e.isDraggingSeg||e.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(t,e){this.mousedOverSeg||(this.mousedOverSeg=t,this.view.trigger("eventMouseover",t.el[0],t.event,e))},triggerSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",t.el[0],t.event,e))},segDragMousedown:function(t,e){var n,i,r=this,s=this.view,o=s.calendar,a=t.el,l=t.event,u=new tt(t.el,{parentEl:s.el,opacity:s.opt("dragOpacity"),revertDuration:s.opt("dragRevertDuration"),zIndex:2}),c=new J(s.coordMap,{distance:5,scroll:s.opt("dragScroll"),listenStart:function(t){u.hide(),u.start(t)},dragStart:function(e){r.triggerSegMouseout(t,e),r.isDraggingSeg=!0,s.hideEvent(l),s.trigger("eventDragStart",a[0],l,e,{})},cellOver:function(e,a){var d=t.cellDate||c.origDate,h=r.computeDraggedEventDates(t,d,a);n=h.start,i=h.end,o.isEventAllowedInRange(l,n,h.visibleEnd)?s.renderDrag(n,i,t)?u.hide():u.show():(n=null,u.show(),f())},cellOut:function(){n=null,s.destroyDrag(),u.show(),p()},dragStop:function(t){var e=n&&!n.isSame(l.start);u.stop(!e,function(){r.isDraggingSeg=!1,s.destroyDrag(),s.showEvent(l),s.trigger("eventDragStop",a[0],l,t,{}),e&&s.eventDrop(a[0],l,n,t)}),p()},listenStop:function(){u.stop()}});c.mousedown(e)},computeDraggedEventDates:function(t,e,n){var i,r,s,o,a,l=this.view,u=t.event,c=u.start,d=l.calendar.getEventEnd(u);return n.hasTime()===e.hasTime()?(i=k(n,e),r=c.clone().add(i),s=null===u.end?null:d.clone().add(i),o=u.allDay):(r=n,s=null,o=!n.hasTime()),a=s||l.calendar.getDefaultEventEnd(o,r),{start:r,end:s,visibleEnd:a}},segResizeMousedown:function(t,e){function n(){r.destroyResize(),s.showEvent(l)}var i,r=this,s=this.view,o=s.calendar,a=t.el,l=t.event,u=l.start,c=s.calendar.getEventEnd(l),d=null;i=new J(this.coordMap,{distance:5,scroll:s.opt("dragScroll"),dragStart:function(e){r.triggerSegMouseout(t,e),r.isResizingSeg=!0,s.trigger("eventResizeStart",a[0],l,e,{})},cellOver:function(e,i){i.isBefore(u)&&(i=u),d=i.clone().add(r.cellDuration),o.isEventAllowedInRange(l,u,d)?d.isSame(c)?(d=null,n()):(r.renderResize(u,d,t),s.hideEvent(l)):(d=null,n(),f())},cellOut:function(){d=null,n(),p()},dragStop:function(t){r.isResizingSeg=!1,n(),p(),s.trigger("eventResizeStop",a[0],l,t,{}),d&&s.eventResize(a[0],l,d,t)}}),i.mousedown(e)},getSegClasses:function(t,e,n){var i=t.event,r=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return e&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(t){var e=this.view,n=t.source||{},i=t.color,r=n.color,s=e.opt("eventColor"),o=t.backgroundColor||i||n.backgroundColor||r||e.opt("eventBackgroundColor")||s,a=t.borderColor||i||n.borderColor||r||e.opt("eventBorderColor")||s,l=t.textColor||n.textColor||e.opt("eventTextColor"),u=[];return o&&u.push("background-color:"+o),a&&u.push("border-color:"+a),l&&u.push("color:"+l),u.join(";")},eventsToSegs:function(t,e){var n,i=this.eventsToRanges(t),r=[];for(n=0;i.length>n;n++)r.push.apply(r,this.eventRangeToSegs(i[n],e));return r},eventsToRanges:function(e){var n=this,i=ot(e),r=[];return t.each(i,function(t,e){e.length&&r.push.apply(r,rt(e[0])?n.eventsToInverseRanges(e):n.eventsToNormalRanges(e))}),r},eventsToNormalRanges:function(t){var e,n,i,r,s=this.view.calendar,o=[];for(e=0;t.length>e;e++)n=t[e],i=n.start.clone().stripZone(),r=s.getEventEnd(n).stripZone(),o.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return o},eventsToInverseRanges:function(t){var e,n,i=this.view,r=i.start.clone().stripZone(),s=i.end.clone().stripZone(),o=this.eventsToNormalRanges(t),a=[],l=t[0],u=r;for(o.sort(at),e=0;o.length>e;e++)n=o[e],n.start>u&&a.push({event:l,start:u,end:n.start}),u=n.end;return s>u&&a.push({event:l,start:u,end:s}),a},eventRangeToSegs:function(t,e){var n,i,r;for(n=e?e(t.start,t.end):this.rangeToSegs(t.start,t.end),i=0;n.length>i;i++)r=n[i],r.event=t.event,r.eventStartMS=t.eventStartMS,r.eventDurationMS=t.eventDurationMS;return n}}),ut.prototype=x(nt.prototype),t.extend(ut.prototype,{numbersVisible:!1,cellDuration:e.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,render:function(e){var n,i=this.view,r="";for(n=0;i.rowCnt>n;n++)r+=this.dayRowHtml(n,e);this.el.html(r),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),this.dayEls.each(function(e,n){var r=i.cellToDate(Math.floor(e/i.colCnt),e%i.colCnt);i.trigger("dayRender",null,r,t(n))}),nt.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",t)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},buildCoords:function(e,n){var i,r,s,o=this.view.colCnt;this.dayEls.slice(0,o).each(function(e,o){i=t(o),r=i.offset().left,e&&(s[1]=r),s=[r],n[e]=s}),s[1]=r+i.outerWidth(),this.rowEls.each(function(n,o){i=t(o),r=i.offset().top,n&&(s[1]=r),s=[r],e[n]=s}),s[1]=r+i.outerHeight()+this.bottomCoordPadding},getCellDate:function(t){return this.view.cellToDate(t)},getCellDayEl:function(t){return this.dayEls.eq(t.row*this.view.colCnt+t.col)},rangeToSegs:function(t,e){return this.view.rangeToSegments(t,e)},renderDrag:function(t,e,n){var i;return this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!0,t)),n&&!n.el.closest(this.el).length?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEls.css("opacity",i),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderResize:function(t,e,n){this.renderHighlight(t,e),this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(e,n){var i,r=[],s=this.eventsToSegs([e]);s=this.renderFgSegEls(s),i=this.renderSegRows(s),this.rowEls.each(function(e,s){var o,a=t(s),l=t('<div class="fc-helper-skeleton"><table/></div>');o=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",o).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=t(r)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n){var i,r,s,o=[];for(n=this.renderFillSegEls(e,n),i=0;n.length>i;i++)r=n[i],s=this.renderFillRow(e,r),this.rowEls.eq(r.row).append(s),o.push(s[0]);return this.elsByFill[e]=t(o),n},renderFillRow:function(e,n){var i,r,s=this.view.colCnt,o=n.leftCol,a=n.rightCol+1;return i=t('<div class="fc-'+e.toLowerCase()+'-skeleton"><table><tr/></table></div>'),r=i.find("tr"),o>0&&r.append('<td colspan="'+o+'"/>'),r.append(n.el.attr("colspan",a-o)),s>a&&r.append('<td colspan="'+(s-a)+'"/>'),this.bookendCells(r,e),i}}),t.extend(ut.prototype,{rowStructs:null,destroyEvents:function(){this.destroySegPopover(),nt.prototype.destroyEvents.apply(this,arguments)},getSegs:function(){return nt.prototype.getSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return nt.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},destroyFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;e.length>n;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i=this.view,r=i.opt("isRTL"),s=t.event,o=i.isEventDraggable(s),a=!e&&s.allDay&&t.isEnd&&i.isEventResizable(s),l=this.getSegClasses(t,o,a),u=this.getEventSkinCss(s),c="";return l.unshift("fc-day-grid-event"),!s.allDay&&t.isStart&&(c='<span class="fc-time">'+F(i.getEventTimeText(s))+"</span>"),n='<span class="fc-title">'+(F(s.title||"")||"&nbsp;")+"</span>",'<a class="'+l.join(" ")+'"'+(s.url?' href="'+F(s.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(r?n+" "+c:c+" "+n)+"</div>"+(a?'<div class="fc-resizer"/>':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;e>o;)c=(y[r-1]||[])[o],c?c.attr("rowspan",parseInt(c.attr("rowspan")||1,10)+1):(c=t("<td/>"),a.append(c)),v[r][o]=c,y[r][o]=c,o++}var r,s,o,a,l,u,c,d=this.view,h=d.colCnt,f=this.buildSegLevels(n),p=Math.max(1,f.length),m=t("<tbody/>"),g=[],v=[],y=[];for(r=0;p>r;r++){if(s=f[r],o=0,a=t("<tr/>"),g.push([]),v.push([]),y.push([]),s)for(l=0;s.length>l;l++){for(u=s[l],i(u.leftCol),c=t('<td class="fc-event-container"/>').append(u.el),u.leftCol!=u.rightCol?c.attr("colspan",u.rightCol-u.leftCol+1):y[r][o]=c;u.rightCol>=o;)v[r][o]=c,g[r][o]=u,o++;a.append(c)}i(h),this.bookendCells(a,"eventSkeleton"),m.append(a)}return{row:e,tbodyEl:m,cellMatrix:v,segMatrix:g,segLevels:f,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(t.sort(lt),e=0;t.length>e;e++){for(n=t[e],i=0;r.length>i&&ct(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;r.length>i;i++)r[i].sort(dt);return r},groupSegRows:function(t){var e,n=this.view,i=[];for(e=0;n.rowCnt>e;e++)i.push([]);for(e=0;t.length>e;e++)i[t[e].row].push(t[e]);return i}}),t.extend(ut.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;i.length>e;e++)this.unlimitRow(e),n=t?"number"==typeof t?t:this.computeRowLevelLimit(e):!1,n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(t){var e,n,i=this.rowEls.eq(t),r=i.height(),s=this.rowStructs[t].tbodyEl.children();for(e=0;s.length>e;e++)if(n=s.eq(e).removeClass("fc-limited"),n.position().top+n.outerHeight()>r)return e;return!1},limitRow:function(e,n){function i(i){for(;i>T;)r={row:e,col:T},c=_.getCellSegs(r,n),c.length&&(f=o[n-1][T],w=_.renderMoreLink(r,c),y=t("<div/>").append(w),f.append(y),S.push(y[0])),T++}var r,s,o,a,l,u,c,d,h,f,p,m,g,v,y,w,_=this,b=this.view,D=this.rowStructs[e],S=[],T=0;if(n&&D.segLevels.length>n){for(s=D.segLevels[n-1],o=D.cellMatrix,a=D.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;s.length>l;l++){for(u=s[l],i(u.leftCol),h=[],d=0;u.rightCol>=T;)r={row:e,col:T},c=this.getCellSegs(r,n),h.push(c),d+=c.length,T++;if(d){for(f=o[n-1][u.leftCol],p=f.attr("rowspan")||1,m=[],g=0;h.length>g;g++)v=t('<td class="fc-more-cell"/>').attr("rowspan",p),c=h[g],r={row:e,col:u.leftCol+g},w=this.renderMoreLink(r,[u].concat(c)),y=t("<div/>").append(w),v.append(y),m.push(v[0]),S.push(v[0]);f.addClass("fc-limited").after(t(m)),a.push(f[0])}}i(b.colCnt),D.moreEls=t(S),D.limitedEls=t(a)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n){var i=this,r=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(s){var o=r.opt("eventLimitClick"),a=r.cellToDate(e),l=t(this),u=i.getCellDayEl(e),c=i.getCellSegs(e),d=i.resliceDaySegs(c,a),h=i.resliceDaySegs(n,a);"function"==typeof o&&(o=r.trigger("eventLimitClick",null,{date:a,dayEl:u,moreEl:l,segs:d,hiddenSegs:h},s)),"popover"===o?i.showSegPopover(a,e,l,d):"string"==typeof o&&r.calendar.zoomTo(a,o)})},showSegPopover:function(t,e,n,i){var r,s,o=this,a=this.view,l=n.parent();r=1==a.rowCnt?this.view.el:this.rowEls.eq(e.row),s={className:"fc-more-popover",content:this.renderSegPopoverContent(t,i),parentEl:this.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},a.opt("isRTL")?s.right=l.offset().left+l.outerWidth()+1:s.left=l.offset().left-1,this.segPopover=new X(s),this.segPopover.show()},renderSegPopoverContent:function(e,n){var i,r=this.view,s=r.opt("theme"),o=e.format(r.opt("dayPopoverFormat")),a=t('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+F(o)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=a.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;n.length>i;i++)n[i].cellDate=e,l.append(n[i].el);return a},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone().stripTime(),s=r.clone().add(1,"days");return this.eventsToSegs(i,function(t,e){var n=S(t,e,r,s);return n?[n]:[]})},getMoreLinkText:function(t){var e=this.view,n=e.opt("eventLimitText");return"function"==typeof n?n(t):"+"+t+" "+n},getCellSegs:function(t,e){for(var n,i=this.rowStructs[t.row].segMatrix,r=e||0,s=[];i.length>r;)n=i[r][t.col],n&&s.push(n),r++;return s}}),ht.prototype=x(nt.prototype),t.extend(ht.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,render:function(){this.processOptions(),this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),this.renderBusinessHours(),nt.prototype.render.call(this)},renderBusinessHours:function(){var t=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(t),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(t,e,n){return this.bgCellHtml(t,e,n)},slatRowHtml:function(){for(var t,n,i,r=this.view,s=r.calendar,o=r.opt("isRTL"),a="",l=0===this.slotDuration.asMinutes()%15,u=e.duration(+this.minTime);this.maxTime>u;)t=r.start.clone().time(u),n=t.minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(l&&n?"":"<span>"+F(s.formatDate(t,r.opt("axisFormat")))+"</span>")+"</td>",a+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",u.add(this.slotDuration);return a},processOptions:function(){var t=this.view,n=t.opt("slotDuration"),i=t.opt("snapDuration");n=e.duration(n),i=i?e.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=e.duration(t.opt("minTime")),this.maxTime=e.duration(t.opt("maxTime"))},rangeToSegs:function(t,e){var n,i,r,s,o,a=this.view,l=[];for(t=t.clone().stripZone(),e=e.clone().stripZone(),i=0;a.colCnt>i;i++)r=a.cellToDate(0,i),s=r.clone().time(this.minTime),o=r.clone().time(this.maxTime),n=S(t,e,s,o),n&&(n.col=i,l.push(n));return l},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},buildCoords:function(n,i){var r,s,o=this.view.colCnt,a=this.el.offset().top,l=e.duration(+this.minTime),u=null;for(this.dayEls.slice(0,o).each(function(e,n){r=t(n),s=r.offset().left,u&&(u[1]=s),u=[s],i[e]=u}),u[1]=s+r.outerWidth(),u=null;this.maxTime>l;)s=a+this.computeTimeTop(l),u&&(u[1]=s),u=[s],n.push(u),l.add(this.snapDuration);u[1]=a+this.computeTimeTop(l)},getCellDate:function(t){var e=this.view,n=e.calendar;return n.rezoneDate(e.cellToDate(0,t.col).time(this.minTime+this.snapDuration*t.row))},getCellDayEl:function(t){return this.dayEls.eq(t.col)},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i,r,s=(t-this.minTime)/this.slotDuration;return s=Math.max(0,s),s=Math.min(this.slatEls.length,s),e=Math.floor(s),n=s-e,i=this.slatTops[e],n?(r=this.slatTops[e+1],i+(r-i)*n):i},computeSlatTops:function(){var e,n=[];this.slatEls.each(function(i,r){e=t(r).position().top,n.push(e)}),n.push(e+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(t,e,n){var i;return n?(this.renderRangeHelper(t,e,n),i=this.view.opt("dragOpacity"),void 0!==i&&this.helperEl.css("opacity",i),!0):void this.renderHighlight(t,e||this.view.calendar.getDefaultEventEnd(!1,t))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderResize:function(t,e,n){this.renderRangeHelper(t,e,n)},destroyResize:function(){this.destroyHelper()},renderHelper:function(e,n){var i,r,s,o,a=this.eventsToSegs([e]);for(a=this.renderFgSegEls(a),i=this.renderSegTable(a),r=0;a.length>r;r++)s=a[r],n&&n.col===s.col&&(o=n.el,s.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")}));this.helperEl=t('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(t,e){this.view.opt("selectHelper")?this.renderRangeHelper(t,e):this.renderHighlight(t,e)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(e,n,i){var r,s,o,a,l,u,c,d,h,f,p=this.view;if(n.length){for(n=this.renderFillSegEls(e,n),r=this.groupSegCols(n),i=i||e.toLowerCase(),s=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),o=s.find("tr"),a=0;r.length>a;a++)if(l=r[a],u=t("<td/>").appendTo(o),l.length)for(c=t('<div class="fc-'+i+'-container"/>').appendTo(u),d=p.cellToDate(0,a),h=0;l.length>h;h++)f=l[h],c.append(f.el.css({top:this.computeDateTop(f.start,d),bottom:-this.computeDateTop(f.end,d)}));this.bookendCells(o,e),this.el.append(s),this.elsByFill[e]=s}return n}}),t.extend(ht.prototype,{eventSkeletonEl:null,renderFgSegs:function(e){return e=this.renderFgSegEls(e),this.el.append(this.eventSkeletonEl=t('<div class="fc-content-skeleton"/>').append(this.renderSegTable(e))),e},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(e){var n,i,r,s,o,a,l=t("<table><tr/></table>"),u=l.find("tr");for(n=this.groupSegCols(e),this.computeSegVerticals(e),s=0;n.length>s;s++){for(o=n[s],ft(o),a=t('<div class="fc-event-container"/>'),i=0;o.length>i;i++)r=o[i],r.el.css(this.generateSegPositionCss(r)),30>r.bottom-r.top&&r.el.addClass("fc-short"),a.append(r.el);u.append(t("<td/>").append(a))}return this.bookendCells(u,"eventSkeleton"),l},updateSegVerticals:function(){var t,e=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(e),t=0;e.length>t;t++)e[t].el.css(this.generateSegVerticalCss(e[t]))},computeSegVerticals:function(t){var e,n;for(e=0;t.length>e;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(t,e){var n,i,r,s=this.view,o=t.event,a=s.isEventDraggable(o),l=!e&&t.isEnd&&s.isEventResizable(o),u=this.getSegClasses(t,a,l),c=this.getEventSkinCss(o);return u.unshift("fc-time-grid-event"),s.isMultiDayEvent(o)?(t.isStart||t.isEnd)&&(n=s.getEventTimeText(t.start,t.end),i=s.getEventTimeText(t.start,t.end,"LT"),r=s.getEventTimeText(t.start,null)):(n=s.getEventTimeText(o),i=s.getEventTimeText(o,"LT"),r=s.getEventTimeText(o.start,null)),'<a class="'+u.join(" ")+'"'+(o.url?' href="'+F(o.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+F(r)+'" data-full="'+F(i)+'"><span>'+F(n)+"</span></div>":"")+(o.title?'<div class="fc-title">'+F(o.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(l?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(t){var e,n,i=this.view,r=i.opt("isRTL"),s=i.opt("slotEventOverlap"),o=t.backwardCoord,a=t.forwardCoord,l=this.generateSegVerticalCss(t);return s&&(a=Math.min(1,o+2*(a-o))),r?(e=1-a,n=o):(e=o,n=1-a),l.zIndex=t.level+1,l.left=100*e+"%",l.right=100*n+"%",s&&t.forwardPressure&&(l[r?"marginLeft":"marginRight"]=20),l},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom
}},groupSegCols:function(t){var e,n=this.view,i=[];for(e=0;n.colCnt>e;e++)i.push([]);for(e=0;t.length>e;e++)i[t[e].col].push(t[e]);return i}}),bt.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight",this.documentMousedownProxy=t.proxy(this,"documentMousedown"),this.documentDragStartProxy=t.proxy(this,"documentDragStart")},render:function(){this.updateSize(),this.trigger("viewRender",this,this,this.el),t(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect(),this.trigger("viewDestroy",this,this,this.el),this.destroyEvents(),this.el.empty(),t(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(){},updateSize:function(t){t&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var t=this.calendar;this.setHeight(t.getSuggestedViewHeight(),t.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(t){var e,n=this.el.add(this.scrollerEl);return n.css({position:"relative",left:-1}),e=this.el.outerHeight()-this.scrollerEl.height(),n.css({position:"",left:""}),t-e},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(){this.segEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.segEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.segEach(function(t){t.el.css("visibility","hidden")},t)},segEach:function(t,e){var n,i=this.getSegs();for(n=0;i.length>n;n++)e&&i[n].event._id!==e._id||t.call(this,i[n])},getSegs:function(){},renderDrag:function(){},destroyDrag:function(){},documentDragStart:function(e){var n,i,r,s,o,a=this,l=this.calendar,u=null,c=null,d=null;this.opt("droppable")&&(n=t(e.target),i=this.opt("dropAccept"),(t.isFunction(i)?i.call(n[0],n):n.is(i))&&(r=Dt(n),s=r.eventProps,o=new J(this.coordMap,{cellOver:function(e,n){u=n,c=r.duration?u.clone().add(r.duration):null,d=c||l.getDefaultEventEnd(!u.hasTime(),u),s&&t.extend(s,{start:u,end:c}),l.isExternalDragAllowedInRange(u,d,s)?a.renderDrag(u,d):(u=null,f())},cellOut:function(){u=null,a.destroyDrag(),p()}}),t(document).one("dragstop",function(t,e){var i;a.destroyDrag(),p(),u&&(r.startTime&&!u.hasTime()&&u.time(r.startTime),a.trigger("drop",n[0],u,t,e),s&&(i=l.renderEvent(s,r.stick),a.trigger("eventReceive",null,i[0])))}),o.startDrag(e)))},select:function(t,e,n){this.unselect(n),this.renderSelection(t,e),this.reportSelection(t,e,n)},renderSelection:function(){},reportSelection:function(t,e,n){this.isSelected=!0,this.trigger("select",null,t,e,n)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,t))},destroySelection:function(){},documentMousedown:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&D(e)&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))}},Gt.dataAttrPrefix="",St.prototype=x(bt.prototype),t.extend(St.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(t,e,n){this.rowCnt=t,this.colCnt=e,this.dayNumbersVisible=n,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows()),bt.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy(),bt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+F(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(t){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(t,0))+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(t,e,n){var i;return this.dayNumbersVisible?(i=this.dayGrid.getDayClasses(n),i.unshift("fc-day-number"),'<td class="'+i.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=v(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i=this.opt("eventLimit");w(this.scrollerEl),h(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!e&&y(this.scrollerEl,n)&&(d(this.headRowEl,b(this.scrollerEl)),n=this.computeScrollerHeight(t),this.scrollerEl.height(n),this.restoreScroll())},setGridHeight:function(t,e){e?g(this.dayGrid.rowEls):m(this.dayGrid.rowEls,t,!0)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight(),bt.prototype.renderEvents.call(this,t)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){bt.prototype.destroyEvents.call(this),this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return this.dayGrid.renderDrag(t,e,n)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(t,e){this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.dayGrid.destroySelection()}}),r({fixedWeekCount:!0}),zt.month=Tt,Tt.prototype=x(St.prototype),t.extend(Tt.prototype,{name:"month",incrementDate:function(t,e){return t.clone().stripTime().add(e,"months").startOf("month")},render:function(t){var e;this.intervalStart=t.clone().stripTime().startOf("month"),this.intervalEnd=this.intervalStart.clone().add(1,"months"),this.start=this.intervalStart.clone(),this.start=this.skipHiddenDays(this.start),this.start.startOf("week"),this.start=this.skipHiddenDays(this.start),this.end=this.intervalEnd.clone(),this.end=this.skipHiddenDays(this.end,-1,!0),this.end.add((7-this.end.weekday())%7,"days"),this.end=this.skipHiddenDays(this.end,-1,!0),e=Math.ceil(this.end.diff(this.start,"weeks",!0)),this.isFixedWeeks()&&(this.end.add(6-e,"weeks"),e=6),this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat")),St.prototype.render.call(this,e,this.getCellsPerWeek(),!0)},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),m(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}}),zt.basicWeek=kt,kt.prototype=x(St.prototype),t.extend(kt.prototype,{name:"basicWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 "),St.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}}),zt.basicDay=Et,Et.prototype=x(St.prototype),t.extend(Et.prototype,{name:"basicDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),St.prototype.render.call(this,1,1,!1)}}),r({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:Ct,timeFormat:{agenda:Mt},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});var qt=5;xt.prototype=x(bt.prototype),t.extend(xt.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(e){this.rowCnt=1,this.colCnt=e,this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=t('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)"),bt.prototype.render.call(this),this.resetScroll()},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),bt.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var t,e,n,i;return this.opt("weekNumbers")?(t=this.cellToDate(0,0),e=this.calendar.calculateWeekNumber(t),n=this.opt("weekNumberTitle"),i=this.opt("isRTL")?e+n:n+e,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+F(i)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||F(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(t){t&&this.timeGrid.resize(),bt.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=v(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),w(this.scrollerEl),h(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=qt),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),y(this.scrollerEl,i)?(d(this.noScrollRowEls,b(this.scrollerEl)),i=this.computeScrollerHeight(t),this.scrollerEl.height(i),this.restoreScroll()):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function t(){n.scrollerEl.scrollTop(r)}var n=this,i=e.duration(this.opt("scrollTime")),r=this.timeGrid.computeTimeTop(i);r=Math.ceil(r),r&&r++,t(),setTimeout(t,0)},renderEvents:function(t){var e,n,i=[],r=[],s=[];for(n=0;t.length>n;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(s=this.dayGrid.renderEvents(i)),this.updateHeight(),bt.prototype.renderEvents.call(this,t)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){bt.prototype.destroyEvents.call(this),this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(t,e,n){return t.hasTime()?this.timeGrid.renderDrag(t,e,n):this.dayGrid?this.dayGrid.renderDrag(t,e,n):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(t,e){t.hasTime()||e.hasTime()?this.timeGrid.renderSelection(t,e):this.dayGrid&&this.dayGrid.renderSelection(t,e)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}}),zt.agendaWeek=Ht,Ht.prototype=x(xt.prototype),t.extend(Ht.prototype,{name:"agendaWeek",incrementDate:function(t,e){return t.clone().stripTime().add(e,"weeks").startOf("week")},render:function(t){this.intervalStart=t.clone().stripTime().startOf("week"),this.intervalEnd=this.intervalStart.clone().add(1,"weeks"),this.start=this.skipHiddenDays(this.intervalStart),this.end=this.skipHiddenDays(this.intervalEnd,-1,!0),this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 "),xt.prototype.render.call(this,this.getCellsPerWeek())}}),zt.agendaDay=Yt,Yt.prototype=x(xt.prototype),t.extend(Yt.prototype,{name:"agendaDay",incrementDate:function(t,e){var n=t.clone().stripTime().add(e,"days");return n=this.skipHiddenDays(n,0>e?-1:1)},render:function(t){this.start=this.intervalStart=t.clone().stripTime(),this.end=this.intervalEnd=this.start.clone().add(1,"days"),this.title=this.calendar.formatDate(this.start,this.opt("titleFormat")),xt.prototype.render.call(this,1)}})}),function(t,e,n,i){var r=function(n,i){return t(e.createElementNS("http://www.w3.org/2000/svg",n)).attr(i)},s="createElementNS"in e&&r("svg",{})[0].createSVGRect,o=t.fn.peity=function(e,n){return s&&this.each(function(){var i=t(this),r=i.data("_peity");r?(e&&(r.type=e),t.extend(r.opts,n)):(r=new a(i,e,t.extend({},o.defaults[e],i.data("peity"),n)),i.change(function(){r.draw()}).data("_peity",r)),r.draw()}),this},a=function(t,e,n){this.$el=t,this.type=e,this.opts=n},l=a.prototype;l.draw=function(){o.graphers[this.type].call(this,this.opts)},l.fill=function(){var e=this.opts.fill;return t.isFunction(e)?e:function(t,n){return e[n%e.length]}},l.prepare=function(t,e){return this.$svg||this.$el.hide().after(this.$svg=r("svg",{"class":"peity"})),this.$svg.empty().data("peity",this).attr({height:e,width:t})},l.values=function(){return t.map(this.$el.text().split(this.opts.delimiter),function(t){return parseFloat(t)})},o.defaults={},o.graphers={},o.register=function(t,e,n){this.defaults[t]=e,this.graphers[t]=n},o.register("pie",{fill:["#ff9900","#fff4dd","#ffc66e"],radius:8},function(e){if(!e.delimiter){var i=this.$el.text().match(/[^0-9\.]/);e.delimiter=i?i[0]:","}if(i=t.map(this.values(),function(t){return t>0?t:0}),"/"==e.delimiter)var s=i[0],i=[s,n.max(0,i[1]-s)];for(var o=0,s=i.length,a=0;s>o;o++)a+=i[o];a||(s=2,a=1,i=[0,1]);var l=2*e.radius,l=this.prepare(e.width||l,e.height||l),o=l.width(),u=l.height(),c=o/2,d=u/2,u=n.min(c,d),e=e.innerRadius;"donut"==this.type&&!e&&(e=.5*u);for(var h=n.PI,f=this.fill(),p=this.scale=function(t,e){var i=t/a*h*2-h/2;return[e*n.cos(i)+c,e*n.sin(i)+d]},m=0,o=0;s>o;o++){var g=i[o],v=g/a;if(0!=v){if(1==v)if(e)var v=c-.01,y=d-u,w=d-e,v=r("path",{d:["M",c,y,"A",u,u,0,1,1,v,y,"L",v,w,"A",e,e,0,1,0,c,w].join(" ")});else v=r("circle",{cx:c,cy:d,r:u});else y=m+g,w=["M"].concat(p(m,u),"A",u,u,0,v>.5?1:0,1,p(y,u),"L"),e?w=w.concat(p(y,e),"A",e,e,0,v>.5?1:0,0,p(m,e)):w.push(c,d),m+=g,v=r("path",{d:w.join(" ")});v.attr("fill",f.call(this,g,o,i)),l.append(v)}}}),o.register("donut",t.extend(!0,{},o.defaults.pie),function(t){o.graphers.pie.call(this,t)}),o.register("line",{delimiter:",",fill:"#c6d9fd",height:16,min:0,stroke:"#4d89f9",strokeWidth:1,width:32},function(t){var e=this.values();1==e.length&&e.push(e[0]);for(var s=n.max.apply(n,t.max==i?e:e.concat(t.max)),o=n.min.apply(n,t.min==i?e:e.concat(t.min)),a=this.prepare(t.width,t.height),l=t.strokeWidth,u=a.width(),c=a.height()-l,d=s-o,s=this.x=function(t){return t*(u/(e.length-1))},h=this.y=function(t){var e=c;return d&&(e-=(t-o)/d*c),e+l/2},f=h(n.max(o,0)),p=[0,f],m=0;m<e.length;m++)p.push(s(m),h(e[m]));p.push(u,f),a.append(r("polygon",{fill:t.fill,points:p.join(" ")})),l&&a.append(r("polyline",{fill:"transparent",points:p.slice(2,p.length-2).join(" "),stroke:t.stroke,"stroke-width":l,"stroke-linecap":"square"}))}),o.register("bar",{delimiter:",",fill:["#4D89F9"],height:16,min:0,padding:.1,width:32},function(t){for(var e=this.values(),s=n.max.apply(n,t.max==i?e:e.concat(t.max)),o=n.min.apply(n,t.min==i?e:e.concat(t.min)),a=this.prepare(t.width,t.height),l=a.width(),u=a.height(),c=s-o,t=t.padding,d=this.fill(),h=this.x=function(t){return t*l/e.length},f=this.y=function(t){return u-(c?(t-o)/c*u:1)},p=0;p<e.length;p++){var m,g=h(p+t),v=h(p+1-t)-g,y=e[p],w=f(y),_=w;c?0>y?_=f(n.min(s,0)):w=f(n.max(o,0)):m=1,m=w-_,0==m&&(m=1,s>0&&c&&_--),a.append(r("rect",{fill:d.call(this,y,p,e),x:g,y:_,width:v,height:m}))}})}(jQuery,document,Math);